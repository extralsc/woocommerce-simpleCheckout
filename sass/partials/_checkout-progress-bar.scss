@use "sass:math" as math;

// ------------------------------------
// CHECKOUT PROGRESS BAR
// ------------------------------------
.sc-progress-bar {
	margin: $checkout-progress-margin;

	@media (#{$bp-larger-than-tablet}) {
		margin: $checkout-progress-margin--large-screen;
	}
}

.sc-progress-bar .sc-progress-bar__inner {
	padding: $checkout-progress-padding;
	background-color: $white;

	@media (#{$bp-larger-than-tablet}) {
		padding: $checkout-progress-padding--large-screen;
		border-radius: $checkout-substep-border-radius;
	}
}
// Sticky state
.sc-progress-bar[data-sticky-states].is-activated .sc-progress-bar__inner {
	z-index: z( 'float-element' ) - 2; // Needed to show behing the order summary flyout
}
// With admin bar
.admin-bar .sc-progress-bar[data-sticky-states].is-sticky--top .sc-progress-bar__inner {
	transform: translateY( 46px );

	@media screen and (min-width: 783px) { // Uses absolute values for breakpoint to match WordPress admin bar
		transform: translateY( 32px );
	}
}





.sc-progress-bar + .sc-checkout-notices,
.sc-progress-bar + form.woocommerce-checkout {
	padding-top: $global-spacing-extra-small;
}





.sc-progress-bar__count {
	margin: $checkout-step-count-margin;
	color: $checkout-step-count-color;
	font-weight: $checkout-step-count-font-weight;
	font-size: $checkout-step-count-font-size;
	text-transform: $checkout-step-count-text-transform;
	text-align: $checkout-step-count-text-align;
	line-height: 1;

	@media (#{$bp-larger-than-desktop}) {
		margin: $checkout-step-count-margin--large-screen;
		font-size: $checkout-step-count-font-size--large-screen;
	}
}





.sc-progress-bar__bars {
	width: 100%;
	height: $checkout-progress-bar-height;
	border: $checkout-progress-bar-border;
	border-radius: $checkout-progress-bar-border-radius;
	background-color: $checkout-progress-bar-color;
	overflow: hidden;
}

.sc-progress-bar__bar {
	display: block;
	float:left;
	margin: 0;
	width: 0;
	height: $checkout-progress-bar-height;
	background-color: $checkout-progress-bar-color;
	transition: width $global-animation-duration linear, background-color $global-animation-duration linear;
}
.sc-progress-bar__bar.is-complete { background-color: $checkout-progress-bar-complete-color; }
.sc-progress-bar__bar.is-current { background-color: $checkout-progress-bar-current-color; }

// Progress bar width
// Supports from 2 to 10 checkout steps
@for $count from 2 through 10 {
	.sc-progress-bar__bars[data-step-count="#{$count}"] .sc-progress-bar__bar.is-complete,
	.sc-progress-bar__bars[data-step-count="#{$count}"] .sc-progress-bar__bar.is-current {
		width: #{ math.div( 100%, $count ) };
	}
}
