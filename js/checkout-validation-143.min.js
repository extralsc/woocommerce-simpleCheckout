!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.CheckoutValidation=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function r(){var a={},i=!1,e=0;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(i=arguments[0],e++);e<arguments.length;e++)!function(e){for(var t in e)e.hasOwnProperty(t)&&(i&&"[object Object]"===Object.prototype.toString.call(e[t])?a[t]=r(a[t],e[t]):a[t]=e[t])}(arguments[e]);return a}function u(e){return!(!e||!F.alwaysValidateFieldsSelector)&&!!e.matches(F.alwaysValidateFieldsSelector)}var i=jQuery,t=!1,l=null!=i,o={},d={},F={bodyClass:"sc-checkout-validation--active",formSelector:"form.checkout",formRowSelector:".form-row",validateFieldsSelector:".input-text, select",clearValidationCountryChangedSelector:"#state, #shipping_state, #billing_state",alwaysValidateFieldsSelector:"",select2Selector:".select2, .select2-hidden-accessible",typeRequiredSelector:".validate-required",typeEmailSelector:".validate-email",typeConfirmationSelector:"[data-confirm-with]",validClass:"woocommerce-validated",invalidClass:"woocommerce-invalid",validationMessages:{required:"This is a required field.",email:"This is not a valid email address.",confirmation:"This field does not match the related"}},f=function(e){return!!e.closest(F.select2Selector)};o.hasValue=function(e){return e.matches("select")?!!(e.options&&-1<e.selectedIndex&&""!=e.options[e.selectedIndex].value):""!=e.value};function a(e,t){return!!t.matches(F.typeRequiredSelector)}function n(e,t){return o.hasValue(e)?{valid:!0}:{valid:!1,message:F.validationMessages.required}}function s(e,t){return!!t.matches(F.typeEmailSelector)}function c(e,t){return o.hasValue(e)?new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(e.value)?{valid:!0}:{valid:!1,message:F.validationMessages.email}:{valid:!1}}function v(e,t){return!!t.querySelector(F.typeConfirmationSelector)}function m(e,t){return o.hasValue(e)?(t=(t=t.closest("form"))?t.querySelector(e.getAttribute("data-confirm-with")):null)&&e.value==t.value?{valid:!1,message:F.validationMessages.confirmation}:{valid:!0}:{valid:!1}}function g(e,t,a){for(var i=!0,r=Object.getOwnPropertyNames(a),l=0;l<r.length;l++){var o=r[l],n=d[o],u=a[o].valid,s=a[o].message,c=n.invalidClass;!function(e,t){for(var a=e.querySelectorAll("span.woocommerce-error.invalid-"+t),i=0;i<a.length;i++)a[i].parentNode.removeChild(a[i])}(t,c),t.classList.toggle(F.invalidClass+"-"+n.invalidClass,!0!==u),!0!==u&&(i=!1,o=s,n=c,s=u=void 0,(c=e)&&o&&0!=o.length&&(!f(u=c)||(s=c.parentNode.querySelector(".select2-container"))&&(u=s),s=c.parentNode,(c=document.createElement("span")).className="woocommerce-error invalid-"+n,c.innerText=o,s.insertBefore(c,u.nextSibling)))}return t.classList.toggle(F.validClass,i),t.classList.toggle(F.invalidClass,!i),i}function y(e,t,a){l&&i(a).toArray().forEach(function(e){Array.from(e.querySelectorAll(F.clearValidationCountryChangedSelector)).forEach(function(e){var t;""==e.value&&(t=e.closest(F.formRowSelector),o.clearValidationResults(e,t))})})}function x(e){var t=e.target;f(e.target)&&(t=e.target.closest(F.formRowSelector).querySelector("select")),o.validateField(t)}return o.clearValidationResults=function(e,t){if(e&&t){for(var a=Object.keys(d),i=0;i<a.length;i++){var r=a[i];t.classList.remove(F.invalidClass+"-"+r)}t.classList.remove(F.validClass),t.classList.remove(F.invalidClass)}},o.validateField=function(e,t){if(!e)return!0;var a={},i=function(e){if(e)return e.closest(F.formRowSelector)}(e);if(!i)return!0;if(!u(e)&&!0!==t&&null===e.offsetParent)return!0;if(!function(e,t){if(u(e))return!0;for(var a=Object.getOwnPropertyNames(d),i=0;i<a.length;i++){var r=a[i];if(d[r].needsValidation(e,t))return!0}return!1}(e,i))return!0;for(var r=Object.getOwnPropertyNames(d),l=0;l<r.length;l++){var o=r[l],n=d[o];n.needsValidation(e,i)&&(a[o]=n.validate(e,i))}return g(e,i,a)},o.validateAllFields=function(e,t){for(var a=!0,i=(e=e||document.querySelector(F.formSelector)).querySelectorAll(F.validateFieldsSelector),r=0;r<i.length;r++)o.validateField(i[r],t)||(a=!1);return a},o.registerValidationType=function(e,t,a,i){return!!d&&("string"==typeof e&&"string"==typeof t&&(a instanceof Function&&i instanceof Function&&(d.hasOwnProperty(e)?(console.log('Validation type "'+e+'" already registered.'),!1):(d[e]={invalidClass:t,needsValidation:a,validate:i},!0))))},o.getValidationTypes=function(){return d},o.init=function(e){t||(F=r(F,e),o.registerValidationType("required","required-field",a,n),o.registerValidationType("email","email",s,c),o.registerValidationType("confirmation","confirmation-field",v,m),l&&(i(F.formSelector).on("input validate change",F.validateFieldsSelector,x),i(document).on("load_ajax_content_done",o.init),i(document).on("country_to_state_changed",y)),document.body.classList.add(F.bodyClass),t=!0)},o});
//# sourceMappingURL=maps/checkout-validation-143.min.js.map
